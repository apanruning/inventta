<!DOCTYPE html>
{% import 'banners.html' as banner %}
<html lang='es'>
<head>
    <meta charset="utf-8" />
    <title>{% block title %}Le damos a la pacha mama{% endblock %} . ltmo</title>
    <meta name="description" content="LTMO, un sitio para procastinar en todos los niveles que sea imaginable." />
    <meta name="google-site-verification" content="GzD0PcJhPHGZ1BcTySo8BLEqEQNObvIqqMXSjqVeh4w" />

    <link title="LTMO - Derrames publicados recientemente" href="/feed" type="application/rss+xml" rel="alternate">
    <link rel="stylesheet" href="/media/style.css" type="text/css" media="screen" />    

    <script src="http://widgets.twimg.com/j/2/widget.js"></script>
</head>
<body>
<header>
    {{banner.header()}}
    <h1 id="logo"><a href="http://{{request.get_host}}">LTMO</a></h1>
    <p id="tagline"><em>un rincón para los amigos</em></p>
</header>
    <div id="main">
    <section>
    {% block content %}
    {% if author %}
        {# XXX: Needs to use gravatar with the author.email #}
       <h1 id="author">Derrames de {{author}}</h1>
    {% else %}
        <h3>Últimos derrames</h3>
    {% endif %}
    
    {# XXX: Necesita paginar autopaginate object_list 10 #}
    {% for object in object_list %}
        <article>
        {# XXX: necesita ser parseado por markdown #}
        {{object.description|markdown}}
        {# tags_for_object object as tag_list %#}
        <details><a href="/?author={{object.author}}">{{object.author}}</a>, {{object.created}}, {% for tag in tag_list %}<a href="/?tag={{tag}}" class="tags">{{tag}}</a>, {%endfor%}{{object.leak_metadata}}</details>
        </article>
        {% if loop.index == 5 %}
        {{banner.content()}}
        {% endif %}
    {% else %}
        <h2>Nadie derramó nada aún</h2>
    {% endfor %}
    {# XXX: necesita paginador #}
    {% endblock %}
    </section>
    <aside>
<h3>¿Qué es lo que observa?</h3>
<p>Nunca hay suficiente redundancia para garantizar la continuidad de la información.</p>
<p>Este es un experimento, una herramienta para evitar perder cosas que en algún momento nos resultaron interesantes.
Hay un <a href="http://github.com/tutuca/ltmo/raw/master/bin/spill.py" target="_blank">script de linea de comandos</a> que te deja entrar un mensaje y enviarlo a esta web.</p>
<p>El código es libre y se explica solo. Así que no preguntes por ayuda o explicaciones, nosotros tampoco sabemos de que se trata</p>
        
        <h3>Nube</h3>    
        {#
        {% tag_cloud_for_model ltmo.Leak as cloud with steps=20 distribution=linear %}
        {% for tag in cloud %}
        <a href="/?tag={{tag}}" 
           style="font-size:{{tag.font_size|add:'8'}}pt"
           title="{{tag.count}} derrames">{{tag}}</a>
        {% endfor %}
        {% tags_for_model ltmo.Leak as leak_tags with counts %}
        #}
        
        
        <h3>Tags</h3>    
        <ul>
        {% for tag in leak_tags %}
            <li><a href="/?tag={{tag}}">{{tag}}</a> ({{tag.count}})</li>
        {% endfor %}
        </ul>        
        <h3>Publicidad</h3>
        {{banner.aside()}}
        {{banner.twitter()}}
    </aside>
    </div>
    <footer>
        <p><a href="http://twitter.com/lossingoil">Seguinos en twitter</a> o <a href="mailto://loosingtoomuchoil@gmail.com">mandanos a trabajar</a>, pero igual revisá el <a href="http://github.com/tutuca/ltmo">Código fuente</a> y si te quedás con ganas date una vuelta por <a href="irc://irc.freenode.net/ltmo">#ltmo en freenode</a>.</p>
        <p>Hecho en Argentina con <a href="http://flask.pocoo.org/">Flask</a>, SQLALchemy, Python y mucho, MUCHO aceite patito.</p>
    
    </footer>
<!-- 
   P
   V
 -->
</body>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-18147848-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</html>
